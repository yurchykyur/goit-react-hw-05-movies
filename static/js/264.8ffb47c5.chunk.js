"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[264],{428:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(413),a=n(861),i=n(757),u=n.n(i),c=n(243);function o(e){return s.apply(this,arguments)}function s(){return s=(0,a.Z)(u().mark((function e(t){var n,a,i,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},a="3d1fae92642db152fb96a11121415088",i={method:"get",baseURL:"https://api.themoviedb.org/3/",headers:{accept:"application/json"},params:(0,r.Z)({api_key:a},n)},e.next=5,c.Z.get(t,i);case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},264:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(433),a=n(439),i=n(791),u=n(135),c=n(87),o=n(174),s=n(184),f=function(e){var t,n=(0,i.useState)(""),r=(0,a.Z)(n,2),f=r[0],l=r[1],h=(0,i.useState)(""),d=(0,a.Z)(h,2),m=d[0],p=d[1],v=(0,c.lr)(),x=(0,a.Z)(v,2),j=x[0],b=x[1],Z=null!==(t=j.get("findMovie"))&&void 0!==t?t:"",g=(0,i.useRef)(!0);return(0,i.useEffect)((function(){Z&&g.current&&(p(Z),e.formSubmitHandler(Z)),g.current=!1}),[p,e,Z,g]),(0,s.jsx)("div",{children:(0,s.jsxs)("form",{onSubmit:function(t){t.preventDefault(),f?f!==m?(p(f),e.formSubmitHandler(f),l("")):o.Am.info('"'.concat(f,'" search completed. Enter a different search query')):o.Am.info("Please write search query.")},children:[(0,s.jsx)("input",{name:"searchQuery",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",onChange:function(e){var t=e.currentTarget.value;if(""===t)return l(""),void b({});b({findMovie:t}),l(t)},value:f}),(0,s.jsxs)("button",{type:"submit",children:[(0,s.jsx)(u.Ozl,{style:{width:20,height:20}}),(0,s.jsx)("span",{children:"Search"})]})]})})},l=n(204),h=n(428),d=n(689),m=function(e){var t=e.items,n=(0,d.TH)();return 0!==t.length?t.map((function(e){return(0,s.jsx)("li",{children:(0,s.jsx)(c.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.title||e.name})},e.id)})):(0,s.jsx)("li",{children:(0,s.jsx)("p",{children:"Nothing was found for your request. Change it, search again"})})},p=function(){var e=(0,i.useState)(""),t=(0,a.Z)(e,2),n=t[0],u=t[1],c=(0,i.useState)(!1),o=(0,a.Z)(c,2),d=o[0],p=o[1],v=(0,i.useState)(!0),x=(0,a.Z)(v,2),j=x[0],b=x[1],Z=(0,i.useState)([]),g=(0,a.Z)(Z,2),y=g[0],S=g[1];(0,i.useEffect)((function(){n&&function(e){p(!0),b(!0),(0,h.Z)("search/movie",{query:e}).then((function(e){S((0,r.Z)(e.results))})).catch((function(e){console.error(e),p(!1),b(!0)})).finally((function(){p(!1),b(!1)}))}(n)}),[n]);return(0,s.jsxs)("div",{children:[(0,s.jsx)(f,{formSubmitHandler:function(e){u(e)}}),d&&(0,s.jsx)(l.a,{}),(0,s.jsx)("ul",{children:!j&&(0,s.jsx)(m,{items:y})})]})}}}]);
//# sourceMappingURL=264.8ffb47c5.chunk.js.map